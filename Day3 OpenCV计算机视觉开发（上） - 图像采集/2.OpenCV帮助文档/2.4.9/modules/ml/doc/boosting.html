
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33108845-1']);
  _gaq.push(['_setDomainName', 'opencv.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Boosting &mdash; OpenCV 2.4.9.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.4.9.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../../../_static/insertIframe.js"></script>
    <link rel="top" title="OpenCV 2.4.9.0 documentation" href="../../../index.html" />
    <link rel="up" title="ml. Machine Learning" href="ml.html" />
    <link rel="next" title="Gradient Boosted Trees" href="gradient_boosted_trees.html" />
    <link rel="prev" title="Decision Trees" href="decision_trees.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="gradient_boosted_trees.html" title="Gradient Boosted Trees"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="decision_trees.html" title="Decision Trees"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">OpenCV 2.4.9.0 documentation</a> &raquo;</li>
          <li><a href="../../refman.html" >OpenCV API Reference</a> &raquo;</li>
          <li><a href="ml.html" accesskey="U">ml. Machine Learning</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
  
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="boosting">
<span id="id1"></span><h1>Boosting<a class="headerlink" href="#boosting" title="Permalink to this headline">¶</a></h1>
<p>A common machine learning task is supervised learning. In supervised learning, the goal is to learn the functional relationship
<img class="math" src="../../../_images/math/dde8d20aea00e7019aa22e0d29c8111e2cb91c2b.png" alt="F: y = F(x)"/> between the input
<img class="math" src="../../../_images/math/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" alt="x"/> and the output
<img class="math" src="../../../_images/math/092e364e1d9d19ad5fffb0b46ef4cc7f2da02c1c.png" alt="y"/> . Predicting the qualitative output is called <em>classification</em>, while predicting the quantitative output is called <em>regression</em>.</p>
<p>Boosting is a powerful learning concept that provides a solution to the supervised classification learning task. It combines the performance of many &#8220;weak&#8221; classifiers to produce a powerful committee <a class="reference internal" href="#htf01">[HTF01]</a>. A weak classifier is only required to be better than chance, and thus can be very simple and computationally inexpensive. However, many of them smartly combine results to a strong classifier that often outperforms most &#8220;monolithic&#8221; strong classifiers such as SVMs and Neural Networks.</p>
<p>Decision trees are the most popular weak classifiers used in boosting schemes. Often the simplest decision trees with only a single split node per tree (called <tt class="docutils literal"><span class="pre">stumps</span></tt> ) are sufficient.</p>
<p>The boosted model is based on
<img class="math" src="../../../_images/math/fc97ef67268cd4e91bacdf12b8901d7036c9a056.png" alt="N"/> training examples
<img class="math" src="../../../_images/math/7b88cd2ad0cbaa9ab7f83d18c7061ae9801aac7f.png" alt="{(x_i,y_i)}1N"/> with
<img class="math" src="../../../_images/math/adc1786d9aa8f2a352a70e81fc5e94f0e8368573.png" alt="x_i \in{R^K}"/> and
<img class="math" src="../../../_images/math/401d9801227f4521fb353a83440f14879a5bcbb7.png" alt="y_i \in{-1, +1}"/> .
<img class="math" src="../../../_images/math/67bc6daa9d6b964201d6cef60cbeb1ac5fd26ead.png" alt="x_i"/> is a
<img class="math" src="../../../_images/math/dfb064112b6c94470339f6571f69d07afc1c024c.png" alt="K"/> -component vector. Each component encodes a feature relevant to the learning task at hand. The desired two-class output is encoded as -1 and +1.</p>
<p>Different variants of boosting are known as Discrete Adaboost, Real AdaBoost, LogitBoost, and Gentle AdaBoost <a class="reference internal" href="#fht98">[FHT98]</a>. All of them are very similar in their overall structure. Therefore, this chapter focuses only on the standard two-class Discrete AdaBoost algorithm, outlined below. Initially the same weight is assigned to each sample (step 2). Then, a weak classifier
<img class="math" src="../../../_images/math/4b0169cd776a7ed75973333ff6a6c67126649d20.png" alt="f_{m(x)}"/> is trained on the weighted training data (step 3a). Its weighted training error and scaling factor
<img class="math" src="../../../_images/math/073cb875af9ca26fc6767bd57295e6943eed02f7.png" alt="c_m"/> is computed (step 3b). The weights are increased for training samples that have been misclassified (step 3c). All weights are then normalized, and the process of finding the next weak classifier continues for another
<img class="math" src="../../../_images/math/5d1e4485dc90c450e8c76826516c1b2ccb8fce16.png" alt="M"/> -1 times. The final classifier
<img class="math" src="../../../_images/math/de8fdaa56ea5a8940d4bba79faa9e3dea0f6bf7c.png" alt="F(x)"/> is the sign of the weighted sum over the individual weak classifiers (step 4).</p>
<p><strong>Two-class Discrete AdaBoost Algorithm</strong></p>
<ol class="arabic">
<li><p class="first">Set
<img class="math" src="../../../_images/math/fc97ef67268cd4e91bacdf12b8901d7036c9a056.png" alt="N"/>     examples
<img class="math" src="../../../_images/math/7b88cd2ad0cbaa9ab7f83d18c7061ae9801aac7f.png" alt="{(x_i,y_i)}1N"/>     with
<img class="math" src="../../../_images/math/9c9e54781256393eb0e67d2ed28ff4a3be652c2d.png" alt="x_i \in{R^K}, y_i \in{-1, +1}"/>     .</p>
</li>
<li><p class="first">Assign weights as
<img class="math" src="../../../_images/math/8ac84880b697fd2d538b6e6df38598dd9eb2856e.png" alt="w_i = 1/N, i = 1,...,N"/>     .</p>
</li>
<li><p class="first">Repeat for <img class="math" src="../../../_images/math/3e55002c14211294b4002dd58611f542b6cc0a28.png" alt="m = 1,2,...,M"/> :</p>
<p>3.1. Fit the classifier <img class="math" src="../../../_images/math/cd65e36720a922ed3e5538dd261796e4d7c5f44b.png" alt="f_m(x) \in{-1,1}"/>, using weights <img class="math" src="../../../_images/math/535b2bfbb0a587e261a0d0af9b7b53e42629b14d.png" alt="w_i"/> on the training data.</p>
<p>3.2. Compute <img class="math" src="../../../_images/math/2b68e4366def137795712dd35a088ceaf94b26ee.png" alt="err_m = E_w [1_{(y \neq f_m(x))}], c_m = log((1 - err_m)/err_m)"/>         .</p>
<p>3.3. Set <img class="math" src="../../../_images/math/802c59f9558fed254c3e34a9c7aa3cf0d8b9318b.png" alt="w_i \Leftarrow w_i exp[c_m 1_{(y_i \neq f_m(x_i))}], i = 1,2,...,N,"/> and renormalize so that <img class="math" src="../../../_images/math/bdd9f6c789702d8a3b600258d703c3bb3b4398e6.png" alt="\Sigma i w_i = 1"/>         .</p>
</li>
<li><p class="first">Classify new samples <em>x</em> using the formula: <img class="math" src="../../../_images/math/ddb9e50a01a7654c2218d42ce777711523121b5c.png" alt="\textrm{sign} (\Sigma m = 1M c_m f_m(x))"/>         .</p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Similar to the classical boosting methods, the current implementation supports two-class classifiers only. For <tt class="docutils literal"><span class="pre">M</span> <span class="pre">&gt;</span> <span class="pre">2</span></tt> classes, there is the <strong>AdaBoost.MH</strong> algorithm (described in <a class="reference internal" href="#fht98">[FHT98]</a>) that reduces the problem to the two-class problem, yet with a much larger training set.</p>
</div>
<p>To reduce computation time for boosted models without substantially losing accuracy, the influence trimming technique can be employed. As the training algorithm proceeds and the number of trees in the ensemble is increased, a larger number of the training samples are classified correctly and with increasing confidence, thereby those samples receive smaller weights on the subsequent iterations. Examples with a very low relative weight have a small impact on the weak classifier training. Thus, such examples may be excluded during the weak classifier training without having much effect on the induced classifier. This process is controlled with the <tt class="docutils literal"><span class="pre">weight_trim_rate</span></tt> parameter. Only examples with the summary fraction <tt class="docutils literal"><span class="pre">weight_trim_rate</span></tt> of the total weight mass are used in the weak classifier training. Note that the weights for
<strong>all</strong>
training examples are recomputed at each training iteration. Examples deleted at a particular iteration may be used again for learning some of the weak classifiers further <a class="reference internal" href="#fht98">[FHT98]</a>.</p>
<table class="docutils citation" frame="void" id="htf01" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[HTF01]</a></td><td>Hastie, T., Tibshirani, R., Friedman, J. H. <em>The Elements of Statistical Learning: Data Mining, Inference, and Prediction. Springer Series in Statistics</em>. 2001.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="fht98" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[FHT98]</td><td><em>(<a class="fn-backref" href="#id3">1</a>, <a class="fn-backref" href="#id4">2</a>, <a class="fn-backref" href="#id5">3</a>)</em> Friedman, J. H., Hastie, T. and Tibshirani, R. Additive Logistic Regression: a Statistical View of Boosting. Technical Report, Dept. of Statistics*, Stanford University, 1998.</td></tr>
</tbody>
</table>
<div class="section" id="cvboostparams">
<h2>CvBoostParams<a class="headerlink" href="#cvboostparams" title="Permalink to this headline">¶</a></h2>
<dl class="struct">
<dt id="CvBoostParams : public CvDTreeParams">
<em class="property">struct </em><tt class="descname">CvBoostParams</tt> : <em class="property">public</em> <tt class="descname">CvDTreeParams</tt><a class="headerlink" href="#CvBoostParams : public CvDTreeParams" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Boosting training parameters.</p>
<p>There is one structure member that you can set directly:</p>
</div></blockquote>
<dl class="member">
<dt id="int split_criteria">
int <tt class="descname">split_criteria</tt><a class="headerlink" href="#int split_criteria" title="Permalink to this definition">¶</a></dt>
<dd><p>Splitting criteria used to choose optimal splits during a weak tree construction. Possible values are:</p>
<blockquote>
<div><ul class="simple">
<li><strong>CvBoost::DEFAULT</strong> Use the default for the particular boosting method, see below.</li>
<li><strong>CvBoost::GINI</strong> Use Gini index. This is default option for Real AdaBoost; may be also used for Discrete AdaBoost.</li>
<li><strong>CvBoost::MISCLASS</strong> Use misclassification rate. This is default option for Discrete AdaBoost; may be also used for Real AdaBoost.</li>
<li><strong>CvBoost::SQERR</strong> Use least squares criteria. This is default and the only option for LogitBoost and Gentle AdaBoost.</li>
</ul>
</div></blockquote>
</dd></dl>

</dd></dl>

<p>The structure is derived from <tt class="xref ocv ocv-class docutils literal"><span class="pre">CvDTreeParams</span></tt> but not all of the decision tree parameters are supported. In particular, cross-validation is not supported.</p>
<p>All parameters are public. You can initialize them by a constructor and then override some of them directly if you want.</p>
</div>
<div class="section" id="cvboostparams-cvboostparams">
<h2>CvBoostParams::CvBoostParams<a class="headerlink" href="#cvboostparams-cvboostparams" title="Permalink to this headline">¶</a></h2>
<p>The constructors.</p>
<dl class="function">
<dt id="CvBoostParams::CvBoostParams()">
<strong>C++:</strong><tt class="descname"> </tt> <tt class="descclassname">CvBoostParams::</tt><tt class="descname">CvBoostParams</tt><big>(</big><big>)</big><a class="headerlink" href="#CvBoostParams::CvBoostParams()" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="CvBoostParams::CvBoostParams(int boost_type, int weak_count, double weight_trim_rate, int max_depth, bool use_surrogates, const float* priors)">
<strong>C++:</strong><tt class="descname"> </tt> <tt class="descclassname">CvBoostParams::</tt><tt class="descname">CvBoostParams</tt><big>(</big>int <strong>boost_type</strong>, int <strong>weak_count</strong>, double <strong>weight_trim_rate</strong>, int <strong>max_depth</strong>, bool <strong>use_surrogates</strong>, const float* <strong>priors</strong><big>)</big><a class="headerlink" href="#CvBoostParams::CvBoostParams(int boost_type, int weak_count, double weight_trim_rate, int max_depth, bool use_surrogates, const float* priors)" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>boost_type</strong> &#8211; <p>Type of the boosting algorithm. Possible values are:</p>
<ul>
<li><strong>CvBoost::DISCRETE</strong> Discrete AdaBoost.</li>
<li><strong>CvBoost::REAL</strong> Real AdaBoost. It is a technique that utilizes confidence-rated predictions and works well with categorical data.</li>
<li><strong>CvBoost::LOGIT</strong> LogitBoost. It can produce good regression fits.</li>
<li><strong>CvBoost::GENTLE</strong> Gentle AdaBoost. It puts less weight on outlier data points and for that reason is often good with regression data.</li>
</ul>
<p>Gentle AdaBoost and Real AdaBoost are often the preferable choices.</p>
</li>
<li><strong>weak_count</strong> &#8211; The number of weak classifiers.</li>
<li><strong>weight_trim_rate</strong> &#8211; A threshold between 0 and 1 used to save computational time. Samples with summary weight <img class="math" src="../../../_images/math/7e7e1cf1078354bba8206d601bdefc31a882e2b8.png" alt="\leq 1 - weight\_trim\_rate"/> do not participate in the <em>next</em> iteration of training. Set this parameter to 0 to turn off this functionality.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>See <a class="reference internal" href="decision_trees.html#CvDTreeParams::CvDTreeParams()" title="CvDTreeParams::CvDTreeParams()"><tt class="xref ocv ocv-func docutils literal"><span class="pre">CvDTreeParams::CvDTreeParams()</span></tt></a> for description of other parameters.</p>
<p>Default parameters are:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">CvBoostParams</span><span class="o">::</span><span class="n">CvBoostParams</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">boost_type</span> <span class="o">=</span> <span class="n">CvBoost</span><span class="o">::</span><span class="n">REAL</span><span class="p">;</span>
    <span class="n">weak_count</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
    <span class="n">weight_trim_rate</span> <span class="o">=</span> <span class="mf">0.95</span><span class="p">;</span>
    <span class="n">cv_folds</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">max_depth</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="cvboosttree">
<h2>CvBoostTree<a class="headerlink" href="#cvboosttree" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="CvBoostTree : public CvDTree">
<em class="property">class </em><tt class="descname">CvBoostTree</tt> : <em class="property">public</em> <tt class="descname">CvDTree</tt><a class="headerlink" href="#CvBoostTree : public CvDTree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The weak tree classifier, a component of the boosted tree classifier <a class="reference internal" href="#CvBoost : public CvStatModel" title="class CvBoost : public CvStatModel"><tt class="xref ocv ocv-class docutils literal"><span class="pre">CvBoost</span></tt></a>, is a derivative of <a class="reference internal" href="decision_trees.html#CvDTree : public CvStatModel" title="class CvDTree : public CvStatModel"><tt class="xref ocv ocv-class docutils literal"><span class="pre">CvDTree</span></tt></a>. Normally, there is no need to use the weak classifiers directly. However, they can be accessed as elements of the sequence <tt class="docutils literal"><span class="pre">CvBoost::weak</span></tt>, retrieved by <a class="reference internal" href="#CvSeq* CvBoost::get_weak_predictors()" title="CvSeq* CvBoost::get_weak_predictors()"><tt class="xref ocv ocv-func docutils literal"><span class="pre">CvBoost::get_weak_predictors()</span></tt></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In case of LogitBoost and Gentle AdaBoost, each weak predictor is a regression tree, rather than a classification tree. Even in case of Discrete AdaBoost and Real AdaBoost, the <tt class="docutils literal"><span class="pre">CvBoostTree::predict</span></tt> return value (<a class="reference internal" href="decision_trees.html#double value" title="double value"><tt class="xref ocv ocv-member docutils literal"><span class="pre">CvDTreeNode::value</span></tt></a>) is not an output class label. A negative value &#8220;votes&#8221; for class #0, a positive value - for class #1. The votes are weighted. The weight of each individual tree may be increased or decreased using the method <tt class="docutils literal"><span class="pre">CvBoostTree::scale</span></tt>.</p>
</div>
</div>
<div class="section" id="cvboost">
<h2>CvBoost<a class="headerlink" href="#cvboost" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="CvBoost : public CvStatModel">
<em class="property">class </em><tt class="descname">CvBoost</tt> : <em class="property">public</em> <tt class="descname">CvStatModel</tt><a class="headerlink" href="#CvBoost : public CvStatModel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Boosted tree classifier derived from <a class="reference internal" href="statistical_models.html#CvStatModel" title="class CvStatModel"><tt class="xref ocv ocv-class docutils literal"><span class="pre">CvStatModel</span></tt></a>.</p>
</div>
<div class="section" id="cvboost-cvboost">
<h2>CvBoost::CvBoost<a class="headerlink" href="#cvboost-cvboost" title="Permalink to this headline">¶</a></h2>
<p>Default and training constructors.</p>
<dl class="function">
<dt id="CvBoost::CvBoost()">
<strong>C++:</strong><tt class="descname"> </tt> <tt class="descclassname">CvBoost::</tt><tt class="descname">CvBoost</tt><big>(</big><big>)</big><a class="headerlink" href="#CvBoost::CvBoost()" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="CvBoost::CvBoost(const Mat&amp; trainData, int tflag, const Mat&amp; responses, const Mat&amp; varIdx, const Mat&amp; sampleIdx, const Mat&amp; varType, const Mat&amp; missingDataMask, CvBoostParams params)">
<strong>C++:</strong><tt class="descname"> </tt> <tt class="descclassname">CvBoost::</tt><tt class="descname">CvBoost</tt><big>(</big>const Mat&amp; <strong>trainData</strong>, int <strong>tflag</strong>, const Mat&amp; <strong>responses</strong>, const Mat&amp; <strong>varIdx</strong>=Mat(), const Mat&amp; <strong>sampleIdx</strong>=Mat(), const Mat&amp; <strong>varType</strong>=Mat(), const Mat&amp; <strong>missingDataMask</strong>=Mat(), CvBoostParams <strong>params</strong>=CvBoostParams() <big>)</big><a class="headerlink" href="#CvBoost::CvBoost(const Mat& trainData, int tflag, const Mat& responses, const Mat& varIdx, const Mat& sampleIdx, const Mat& varType, const Mat& missingDataMask, CvBoostParams params)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="CvBoost::CvBoost(const CvMat* trainData, int tflag, const CvMat* responses, const CvMat* varIdx, const CvMat* sampleIdx, const CvMat* varType, const CvMat* missingDataMask, CvBoostParams params)">
<strong>C++:</strong><tt class="descname"> </tt> <tt class="descclassname">CvBoost::</tt><tt class="descname">CvBoost</tt><big>(</big>const CvMat* <strong>trainData</strong>, int <strong>tflag</strong>, const CvMat* <strong>responses</strong>, const CvMat* <strong>varIdx</strong>=0, const CvMat* <strong>sampleIdx</strong>=0, const CvMat* <strong>varType</strong>=0, const CvMat* <strong>missingDataMask</strong>=0, CvBoostParams <strong>params</strong>=CvBoostParams() <big>)</big><a class="headerlink" href="#CvBoost::CvBoost(const CvMat* trainData, int tflag, const CvMat* responses, const CvMat* varIdx, const CvMat* sampleIdx, const CvMat* varType, const CvMat* missingDataMask, CvBoostParams params)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.Boost">
<strong>Python:</strong><tt class="descname"> </tt><tt class="descclassname">cv2.</tt><tt class="descname">Boost</tt><big>(</big><span class="optional">[</span>trainData, tflag, responses<span class="optional">[</span>, varIdx<span class="optional">[</span>, sampleIdx<span class="optional">[</span>, varType<span class="optional">[</span>, missingDataMask<span class="optional">[</span>, params<span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><big>)</big> &rarr; &lt;Boost object&gt;<a class="headerlink" href="#cv2.Boost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The constructors follow conventions of <a class="reference internal" href="statistical_models.html#CvStatModel::CvStatModel()" title="CvStatModel::CvStatModel()"><tt class="xref ocv ocv-func docutils literal"><span class="pre">CvStatModel::CvStatModel()</span></tt></a>. See <a class="reference internal" href="statistical_models.html#bool CvStatModel::train(const Mat&amp; train_data, [int tflag,] ..., const Mat&amp; responses, ..., [const Mat&amp; var_idx,] ..., [const Mat&amp; sample_idx,] ... [const Mat&amp; var_type,] ..., [const Mat&amp; missing_mask,] &lt;misc_training_alg_params&gt; ...)" title="bool CvStatModel::train(const Mat&amp; train_data, [int tflag,] ..., const Mat&amp; responses, ..., [const Mat&amp; var_idx,] ..., [const Mat&amp; sample_idx,] ... [const Mat&amp; var_type,] ..., [const Mat&amp; missing_mask,] &lt;misc_training_alg_params&gt; ...)"><tt class="xref ocv ocv-func docutils literal"><span class="pre">CvStatModel::train()</span></tt></a> for parameters descriptions.</p>
</div>
<div class="section" id="cvboost-train">
<h2>CvBoost::train<a class="headerlink" href="#cvboost-train" title="Permalink to this headline">¶</a></h2>
<p>Trains a boosted tree classifier.</p>
<dl class="function">
<dt id="bool CvBoost::train(const Mat&amp; trainData, int tflag, const Mat&amp; responses, const Mat&amp; varIdx, const Mat&amp; sampleIdx, const Mat&amp; varType, const Mat&amp; missingDataMask, CvBoostParams params, bool update)">
<strong>C++:</strong><tt class="descname"> </tt>bool <tt class="descclassname">CvBoost::</tt><tt class="descname">train</tt><big>(</big>const Mat&amp; <strong>trainData</strong>, int <strong>tflag</strong>, const Mat&amp; <strong>responses</strong>, const Mat&amp; <strong>varIdx</strong>=Mat(), const Mat&amp; <strong>sampleIdx</strong>=Mat(), const Mat&amp; <strong>varType</strong>=Mat(), const Mat&amp; <strong>missingDataMask</strong>=Mat(), CvBoostParams <strong>params</strong>=CvBoostParams(), bool <strong>update</strong>=false <big>)</big><a class="headerlink" href="#bool CvBoost::train(const Mat& trainData, int tflag, const Mat& responses, const Mat& varIdx, const Mat& sampleIdx, const Mat& varType, const Mat& missingDataMask, CvBoostParams params, bool update)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="bool CvBoost::train(const CvMat* trainData, int tflag, const CvMat* responses, const CvMat* varIdx, const CvMat* sampleIdx, const CvMat* varType, const CvMat* missingDataMask, CvBoostParams params, bool update)">
<strong>C++:</strong><tt class="descname"> </tt>bool <tt class="descclassname">CvBoost::</tt><tt class="descname">train</tt><big>(</big>const CvMat* <strong>trainData</strong>, int <strong>tflag</strong>, const CvMat* <strong>responses</strong>, const CvMat* <strong>varIdx</strong>=0, const CvMat* <strong>sampleIdx</strong>=0, const CvMat* <strong>varType</strong>=0, const CvMat* <strong>missingDataMask</strong>=0, CvBoostParams <strong>params</strong>=CvBoostParams(), bool <strong>update</strong>=false <big>)</big><a class="headerlink" href="#bool CvBoost::train(const CvMat* trainData, int tflag, const CvMat* responses, const CvMat* varIdx, const CvMat* sampleIdx, const CvMat* varType, const CvMat* missingDataMask, CvBoostParams params, bool update)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="bool CvBoost::train(CvMLData* data, CvBoostParams params, bool update)">
<strong>C++:</strong><tt class="descname"> </tt>bool <tt class="descclassname">CvBoost::</tt><tt class="descname">train</tt><big>(</big>CvMLData* <strong>data</strong>, CvBoostParams <strong>params</strong>=CvBoostParams(), bool <strong>update</strong>=false <big>)</big><a class="headerlink" href="#bool CvBoost::train(CvMLData* data, CvBoostParams params, bool update)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.Boost.train">
<strong>Python:</strong><tt class="descname"> </tt><tt class="descclassname">cv2.Boost.</tt><tt class="descname">train</tt><big>(</big>trainData, tflag, responses<span class="optional">[</span>, varIdx<span class="optional">[</span>, sampleIdx<span class="optional">[</span>, varType<span class="optional">[</span>, missingDataMask<span class="optional">[</span>, params<span class="optional">[</span>, update<span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><big>)</big> &rarr; retval<a class="headerlink" href="#cv2.Boost.train" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>update</strong> &#8211; Specifies whether the classifier needs to be updated (<tt class="docutils literal"><span class="pre">true</span></tt>, the new weak tree classifiers added to the existing ensemble) or the classifier needs to be rebuilt from scratch (<tt class="docutils literal"><span class="pre">false</span></tt>).</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The train method follows the common template of <a class="reference internal" href="statistical_models.html#bool CvStatModel::train(const Mat&amp; train_data, [int tflag,] ..., const Mat&amp; responses, ..., [const Mat&amp; var_idx,] ..., [const Mat&amp; sample_idx,] ... [const Mat&amp; var_type,] ..., [const Mat&amp; missing_mask,] &lt;misc_training_alg_params&gt; ...)" title="bool CvStatModel::train(const Mat&amp; train_data, [int tflag,] ..., const Mat&amp; responses, ..., [const Mat&amp; var_idx,] ..., [const Mat&amp; sample_idx,] ... [const Mat&amp; var_type,] ..., [const Mat&amp; missing_mask,] &lt;misc_training_alg_params&gt; ...)"><tt class="xref ocv ocv-func docutils literal"><span class="pre">CvStatModel::train()</span></tt></a>. The responses must be categorical, which means that boosted trees cannot be built for regression, and there should be two classes.</p>
</div>
<div class="section" id="cvboost-predict">
<h2>CvBoost::predict<a class="headerlink" href="#cvboost-predict" title="Permalink to this headline">¶</a></h2>
<p>Predicts a response for an input sample.</p>
<dl class="function">
<dt id="float CvBoost::predict(const cv::Mat&amp; sample, const cv::Mat&amp; missing, const cv::Range&amp; slice, bool rawMode, bool returnSum) const">
<strong>C++:</strong><tt class="descname"> </tt>float <tt class="descclassname">CvBoost::</tt><tt class="descname">predict</tt><big>(</big>const cv::Mat&amp; <strong>sample</strong>, const cv::Mat&amp; <strong>missing</strong>=Mat(), const cv::Range&amp; <strong>slice</strong>=Range::all(), bool <strong>rawMode</strong>=false, bool <strong>returnSum</strong>=false <big>)</big><tt class="descclassname"> const</tt><a class="headerlink" href="#float CvBoost::predict(const cv::Mat& sample, const cv::Mat& missing, const cv::Range& slice, bool rawMode, bool returnSum) const" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="float CvBoost::predict(const CvMat* sample, const CvMat* missing, CvMat* weak_responses, CvSlice slice, bool raw_mode, bool return_sum) const">
<strong>C++:</strong><tt class="descname"> </tt>float <tt class="descclassname">CvBoost::</tt><tt class="descname">predict</tt><big>(</big>const CvMat* <strong>sample</strong>, const CvMat* <strong>missing</strong>=0, CvMat* <strong>weak_responses</strong>=0, CvSlice <strong>slice</strong>=CV_WHOLE_SEQ, bool <strong>raw_mode</strong>=false, bool <strong>return_sum</strong>=false <big>)</big><tt class="descclassname"> const</tt><a class="headerlink" href="#float CvBoost::predict(const CvMat* sample, const CvMat* missing, CvMat* weak_responses, CvSlice slice, bool raw_mode, bool return_sum) const" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.Boost.predict">
<strong>Python:</strong><tt class="descname"> </tt><tt class="descclassname">cv2.Boost.</tt><tt class="descname">predict</tt><big>(</big>sample<span class="optional">[</span>, missing<span class="optional">[</span>, slice<span class="optional">[</span>, rawMode<span class="optional">[</span>, returnSum<span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><big>)</big> &rarr; retval<a class="headerlink" href="#cv2.Boost.predict" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sample</strong> &#8211; Input sample.</li>
<li><strong>missing</strong> &#8211; Optional mask of missing measurements. To handle missing measurements, the weak classifiers must include surrogate splits (see <tt class="docutils literal"><span class="pre">CvDTreeParams::use_surrogates</span></tt>).</li>
<li><strong>weak_responses</strong> &#8211; Optional output parameter, a floating-point vector with responses of each individual weak classifier. The number of elements in the vector must be equal to the slice length.</li>
<li><strong>slice</strong> &#8211; Continuous subset of the sequence of weak classifiers to be used for prediction. By default, all the weak classifiers are used.</li>
<li><strong>rawMode</strong> &#8211; Normally, it should be set to <tt class="docutils literal"><span class="pre">false</span></tt>.</li>
<li><strong>returnSum</strong> &#8211; If <tt class="docutils literal"><span class="pre">true</span></tt> then return sum of votes instead of the class label.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The method runs the sample through the trees in the ensemble and returns the output class label based on the weighted voting.</p>
</div>
<div class="section" id="cvboost-prune">
<h2>CvBoost::prune<a class="headerlink" href="#cvboost-prune" title="Permalink to this headline">¶</a></h2>
<p>Removes the specified weak classifiers.</p>
<dl class="function">
<dt id="void CvBoost::prune(CvSlice slice)">
<strong>C++:</strong><tt class="descname"> </tt>void <tt class="descclassname">CvBoost::</tt><tt class="descname">prune</tt><big>(</big>CvSlice <strong>slice</strong><big>)</big><a class="headerlink" href="#void CvBoost::prune(CvSlice slice)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.Boost.prune">
<strong>Python:</strong><tt class="descname"> </tt><tt class="descclassname">cv2.Boost.</tt><tt class="descname">prune</tt><big>(</big>slice<big>)</big> &rarr; None<a class="headerlink" href="#cv2.Boost.prune" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>slice</strong> &#8211; Continuous subset of the sequence of weak classifiers to be removed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The method removes the specified weak classifiers from the sequence.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Do not confuse this method with the pruning of individual decision trees, which is currently not supported.</p>
</div>
</div>
<div class="section" id="cvboost-calc-error">
<h2>CvBoost::calc_error<a class="headerlink" href="#cvboost-calc-error" title="Permalink to this headline">¶</a></h2>
<p>Returns error of the boosted tree classifier.</p>
<dl class="function">
<dt id="float CvBoost::calc_error(CvMLData* _data, int type , std::vector&lt;float&gt; *resp)">
<strong>C++:</strong><tt class="descname"> </tt>float <tt class="descclassname">CvBoost::</tt><tt class="descname">calc_error</tt><big>(</big>CvMLData* <strong>_data</strong>, int <strong>type</strong>, std::vector&lt;float&gt;* <strong>resp</strong>=0 <big>)</big><a class="headerlink" href="#float CvBoost::calc_error(CvMLData* _data, int type , std::vector<float> *resp)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method is identical to <a class="reference internal" href="decision_trees.html#float CvDTree::calc_error(CvMLData* trainData, int type, std::vector&lt;float&gt; *resp)" title="float CvDTree::calc_error(CvMLData* trainData, int type, std::vector&lt;float&gt; *resp)"><tt class="xref ocv ocv-func docutils literal"><span class="pre">CvDTree::calc_error()</span></tt></a> but uses the boosted tree classifier as predictor.</p>
</div>
<div class="section" id="cvboost-get-weak-predictors">
<h2>CvBoost::get_weak_predictors<a class="headerlink" href="#cvboost-get-weak-predictors" title="Permalink to this headline">¶</a></h2>
<p>Returns the sequence of weak tree classifiers.</p>
<dl class="function">
<dt id="CvSeq* CvBoost::get_weak_predictors()">
<strong>C++:</strong><tt class="descname"> </tt>CvSeq* <tt class="descclassname">CvBoost::</tt><tt class="descname">get_weak_predictors</tt><big>(</big><big>)</big><a class="headerlink" href="#CvSeq* CvBoost::get_weak_predictors()" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method returns the sequence of weak classifiers. Each element of the sequence is a pointer to the <a class="reference internal" href="#CvBoostTree : public CvDTree" title="class CvBoostTree : public CvDTree"><tt class="xref ocv ocv-class docutils literal"><span class="pre">CvBoostTree</span></tt></a> class or to some of its derivatives.</p>
</div>
<div class="section" id="cvboost-get-params">
<h2>CvBoost::get_params<a class="headerlink" href="#cvboost-get-params" title="Permalink to this headline">¶</a></h2>
<p>Returns current parameters of the boosted tree classifier.</p>
<dl class="function">
<dt id="const CvBoostParams&amp; CvBoost::get_params() const">
<strong>C++:</strong><tt class="descname"> </tt>const CvBoostParams&amp; <tt class="descclassname">CvBoost::</tt><tt class="descname">get_params</tt><big>(</big><big>)</big><tt class="descclassname"> const</tt><a class="headerlink" href="#const CvBoostParams& CvBoost::get_params() const" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="cvboost-get-data">
<h2>CvBoost::get_data<a class="headerlink" href="#cvboost-get-data" title="Permalink to this headline">¶</a></h2>
<p>Returns used train data of the boosted tree classifier.</p>
<dl class="function">
<dt id="const CvDTreeTrainData* CvBoost::get_data() const">
<strong>C++:</strong><tt class="descname"> </tt>const CvDTreeTrainData* <tt class="descclassname">CvBoost::</tt><tt class="descname">get_data</tt><big>(</big><big>)</big><tt class="descclassname"> const</tt><a class="headerlink" href="#const CvDTreeTrainData* CvBoost::get_data() const" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


          </div>
          <div class="feedback">
              <h2>Help and Feedback</h2>
              You did not find what you were looking for?
              <ul>
                  
                  
                  
                  <li>Ask a question on the <a href="http://answers.opencv.org">Q&A forum</a>.</li>
                  <li>If you think something is missing or wrong in the documentation,
                  please file a <a href="http://code.opencv.org">bug report</a>.</li>
              </ul>
          </div>
        </div>
      </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/opencv-logo-white.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none">
      <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
      </p>
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Boosting</a><ul>
<li><a class="reference internal" href="#cvboostparams">CvBoostParams</a></li>
<li><a class="reference internal" href="#cvboostparams-cvboostparams">CvBoostParams::CvBoostParams</a></li>
<li><a class="reference internal" href="#cvboosttree">CvBoostTree</a></li>
<li><a class="reference internal" href="#cvboost">CvBoost</a></li>
<li><a class="reference internal" href="#cvboost-cvboost">CvBoost::CvBoost</a></li>
<li><a class="reference internal" href="#cvboost-train">CvBoost::train</a></li>
<li><a class="reference internal" href="#cvboost-predict">CvBoost::predict</a></li>
<li><a class="reference internal" href="#cvboost-prune">CvBoost::prune</a></li>
<li><a class="reference internal" href="#cvboost-calc-error">CvBoost::calc_error</a></li>
<li><a class="reference internal" href="#cvboost-get-weak-predictors">CvBoost::get_weak_predictors</a></li>
<li><a class="reference internal" href="#cvboost-get-params">CvBoost::get_params</a></li>
<li><a class="reference internal" href="#cvboost-get-data">CvBoost::get_data</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="decision_trees.html"
                        title="previous chapter">Decision Trees</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="gradient_boosted_trees.html"
                        title="next chapter">Gradient Boosted Trees</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/modules/ml/doc/boosting.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="gradient_boosted_trees.html" title="Gradient Boosted Trees"
             >next</a> |</li>
        <li class="right" >
          <a href="decision_trees.html" title="Decision Trees"
             >previous</a> |</li>
        <li><a href="../../../index.html">OpenCV 2.4.9.0 documentation</a> &raquo;</li>
          <li><a href="../../refman.html" >OpenCV API Reference</a> &raquo;</li>
          <li><a href="ml.html" >ml. Machine Learning</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2014, opencv dev team.
      Last updated on Apr 21, 2014.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>